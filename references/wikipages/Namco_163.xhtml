<?xml version="1.0" ?><!DOCTYPE html  PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Namco 163</title>
<meta content="width=display-width" name="viewport"/>
<link href="w.css" rel="stylesheet" type="text/css"/>
<script src="w.js" type="text/javascript"/>
</head><body><h1>Namco 163</h1><div class="article">
<p><br/>
</p>
<div class="infobox">
<div style="text-align: center"><b>Namco 129/163</b>
</div>
<table class="oddf0">

<tr>
<td> <b>Company</b>
</td>
<td> Namco
</td></tr>
<tr>
<td> <b>Games</b>
</td>
<td> <a class="external text" href="http://bootgod.dyndns.org:7777/search.php?ines=19&amp;group=groupid" rel="nofollow">20 in NesCartDB</a>
</td></tr>
<tr>
<td> <b>Complexity</b>
</td>
<td> ASIC
</td></tr>
<tr>
<td> <b>Boards</b>
</td>
<td> 11xF0, 111F0S
</td></tr>
<tr>
<td> <b>PRG ROM capacity</b>
</td>
<td> 512K
</td></tr>
<tr>
<td> <b>PRG ROM window</b>
</td>
<td> 8Kx3 + 8K fixed
</td></tr>
<tr>
<td> <b>PRG RAM capacity</b>
</td>
<td> 8K
</td></tr>
<tr>
<td> <b>PRG RAM window</b>
</td>
<td> 8K
</td></tr>
<tr>
<td> <b>CHR capacity</b>
</td>
<td> 256K
</td></tr>
<tr>
<td> <b>CHR window</b>
</td>
<td> 1Kx8 (PT) + 1Kx4 (NT)
</td></tr>
<tr>
<td> <b>Nametable <a href="Mirroring.xhtml" title="Mirroring">mirroring</a></b>
</td>
<td> arbitrary, up to 226 source nametables
</td></tr>
<tr>
<td> <b><a href="Bus_conflict.xhtml" title="Bus conflict">Bus conflicts</a></b>
</td>
<td> No
</td></tr>
<tr>
<td> <b>IRQ</b>
</td>
<td> CPU cycle counter
</td></tr>
<tr>
<td> <b>Audio</b>
</td>
<td> <a href="Namco_163_audio.xhtml" title="Namco 163 audio">Yes</a>
</td></tr>
<tr>
<td> <b>iNES <a href="Mapper.xhtml" title="Mapper">mappers</a></b>
</td>
<td> <a class="mw-redirect" href="Namco_163.xhtml" title="INES Mapper 019">019</a>
</td></tr></table>
</div>
<p><br/>
</p>
<div class="infobox">
<div style="text-align: center"><b>Namco 175</b>
</div>
<table class="oddf0">

<tr>
<td> <b>Company</b>
</td>
<td> Namco
</td></tr>
<tr>
<td> <b>Games</b>
</td>
<td> <a class="external text" href="http://bootgod.dyndns.org:7777/search.php?ines=210&amp;group=groupid" rel="nofollow">4 in NesCartDB</a>
</td></tr>
<tr>
<td> <b>Complexity</b>
</td>
<td> ASIC
</td></tr>
<tr>
<td> <b>Boards</b>
</td>
<td> 110F0B
</td></tr>
<tr>
<td> <b>PRG ROM capacity</b>
</td>
<td> 512K
</td></tr>
<tr>
<td> <b>PRG ROM window</b>
</td>
<td> 8Kx3 + 8K fixed
</td></tr>
<tr>
<td> <b>PRG RAM capacity</b>
</td>
<td> 8K
</td></tr>
<tr>
<td> <b>PRG RAM window</b>
</td>
<td> 8K
</td></tr>
<tr>
<td> <b>CHR capacity</b>
</td>
<td> 256K
</td></tr>
<tr>
<td> <b>CHR window</b>
</td>
<td> 1Kx8
</td></tr>
<tr>
<td> <b>Nametable <a href="Mirroring.xhtml" title="Mirroring">mirroring</a></b>
</td>
<td> H or V fixed
</td></tr>
<tr>
<td> <b><a href="Bus_conflict.xhtml" title="Bus conflict">Bus conflicts</a></b>
</td>
<td> No
</td></tr>
<tr>
<td> <b>IRQ</b>
</td>
<td> No
</td></tr>
<tr>
<td> <b>Audio</b>
</td>
<td> No
</td></tr>
<tr>
<td> <b>iNES <a href="Mapper.xhtml" title="Mapper">mappers</a></b>
</td>
<td> <a href="INES_Mapper_210.xhtml" title="INES Mapper 210">210</a>
</td></tr></table>
</div>
<p><br/>
</p>
<div class="infobox">
<div style="text-align: center"><b>Namco 340</b>
</div>
<table class="oddf0">

<tr>
<td> <b>Company</b>
</td>
<td> Namco
</td></tr>
<tr>
<td> <b>Games</b>
</td>
<td> <a class="external text" href="http://bootgod.dyndns.org:7777/search.php?ines=210&amp;group=groupid" rel="nofollow">8 in NesCartDB</a>
</td></tr>
<tr>
<td> <b>Complexity</b>
</td>
<td> ASIC
</td></tr>
<tr>
<td> <b>Boards</b>
</td>
<td> CS000x
</td></tr>
<tr>
<td> <b>PRG ROM capacity</b>
</td>
<td> 512K
</td></tr>
<tr>
<td> <b>PRG ROM window</b>
</td>
<td> 8Kx3 + 8K fixed
</td></tr>
<tr>
<td> <b>PRG RAM capacity</b>
</td>
<td> none
</td></tr>
<tr>
<td> <b>PRG RAM window</b>
</td>
<td> none
</td></tr>
<tr>
<td> <b>CHR capacity</b>
</td>
<td> 256K
</td></tr>
<tr>
<td> <b>CHR window</b>
</td>
<td> 1Kx8
</td></tr>
<tr>
<td> <b>Nametable <a href="Mirroring.xhtml" title="Mirroring">mirroring</a></b>
</td>
<td> H, V, or 1 switchable
</td></tr>
<tr>
<td> <b><a href="Bus_conflict.xhtml" title="Bus conflict">Bus conflicts</a></b>
</td>
<td> No
</td></tr>
<tr>
<td> <b>IRQ</b>
</td>
<td> No
</td></tr>
<tr>
<td> <b>Audio</b>
</td>
<td> No
</td></tr>
<tr>
<td> <b>iNES <a href="Mapper.xhtml" title="Mapper">mappers</a></b>
</td>
<td> <a href="INES_Mapper_210.xhtml" title="INES Mapper 210">210</a>
</td></tr></table>
</div>
<p>The <b>Namco 129</b> and <b>163</b> with expansion sound are assigned to <b>iNES Mapper 19</b>, while simpler variants are assigned to <a href="INES_Mapper_210.xhtml" title="INES Mapper 210">iNES Mapper 210</a>: those using the Namco <b>175</b> ICs have hard-wired mirroring and those using the Namco <b>340</b> support mapper-switchable mirroring. All four were packaged in <a href="Namcot_163_family_pinout.xhtml" title="Namcot 163 family pinout">48-pin TQFPs</a>.
</p><p>Many older programs incorrectly identify this mapper by the name <b>Namco 106</b>. Some sources use the name Namcot instead of Namco, as some games and PCBs use this variation on the company name.
</p><p>In addition to the 8 KB of PRG RAM that may be available, the Namco 163 has an additional 128 bytes of internal memory intended for <a href="Namco_163_audio.xhtml" title="Namco 163 audio">expansion audio</a>. Any of that memory that is not used to specify sound could be used as RAM by the game.
</p><p>Example games: (Mapper 019)
</p>
<ul><li> <i>Digital Devil Story - Megami Tensei II</i></li>
<li> <i>Erika to Satoru no Yume Bouken</i></li>
<li> <i>Famista '90</i></li>
<li> <i>Final Lap</i></li>
<li> <i>King of Kings (Namco)</i></li>
<li> <i>Rolling Thunder (J)</i></li>
<li> <i>Sangokushi I, II (Namco)</i></li>
<li> <i>Star Wars (Namco)</i></li>
<li> <i>Mappy Kids</i></li>
<li> <i>Namco Classic I, II</i></li></ul>
<p>Example games: (Mapper 210)
</p>
<ul><li> <i>Dream Master</i></li>
<li> <i>Famista '91 - '94</i></li>
<li> <i>Splatter House</i></li>
<li> <i>Wagyan Land 2, 3</i></li></ul>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Banks"><span class="tocnumber">1</span> <span class="toctext">Banks</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Registers"><span class="tocnumber">2</span> <span class="toctext">Registers</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Sound_Data_Port_.28.244800-.244FFF.29_r.2Fw_.28Namco_129.2C163_only.29"><span class="tocnumber">2.1</span> <span class="toctext">Sound Data Port ($4800-$4FFF) r/w (Namco 129,163 only)</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#IRQ_Counter_.28low.29_.28.245000-.2457FF.29_r.2Fw_.28Namco_129.2C163_only.29"><span class="tocnumber">2.2</span> <span class="toctext">IRQ Counter (low) ($5000-$57FF) r/w (Namco 129,163 only)</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#IRQ_Counter_.28high.29_.2F_IRQ_Enable_.28.245800-.245FFF.29_r.2Fw_.28Namco_129.2C163_only.29"><span class="tocnumber">2.3</span> <span class="toctext">IRQ Counter (high) / IRQ Enable ($5800-$5FFF) r/w (Namco 129,163 only)</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#CHR_and_NT_Select_.28.248000-.24DFFF.29_w"><span class="tocnumber">2.4</span> <span class="toctext">CHR and NT Select ($8000-$DFFF) w</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#External_PRG_RAM_enable_.28.24C000-.24C7FF.29_w_.28Namco_175_only.29"><span class="tocnumber">2.5</span> <span class="toctext">External PRG RAM enable ($C000-$C7FF) w (Namco 175 only)</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#PRG_Select_1_.28.24E000-.24E7FF.29_w"><span class="tocnumber">2.6</span> <span class="toctext">PRG Select 1 ($E000-$E7FF) w</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#PRG_Select_2_.2F_CHR-RAM_Enable_.28.24E800-.24EFFF.29_w"><span class="tocnumber">2.7</span> <span class="toctext">PRG Select 2 / CHR-RAM Enable ($E800-$EFFF) w</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#PRG_Select_3_.28.24F000-.24F7FF.29_w"><span class="tocnumber">2.8</span> <span class="toctext">PRG Select 3 ($F000-$F7FF) w</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Write_Protect_for_External_RAM_AND_Sound_Address_Port_.28.24F800-.24FFFF.29_w_.28Namco_129.2C_163_only.29"><span class="tocnumber">2.9</span> <span class="toctext">Write Protect for External RAM AND Sound Address Port ($F800-$FFFF) w (Namco 129, 163 only)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#IRQ_Operation"><span class="tocnumber">3</span> <span class="toctext">IRQ Operation</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Banks">Banks</span></h2>
<ul><li> CPU $6000-$7FFF: 8 KB PRG RAM bank (Namco 129, 163, and 175)</li>
<li> CPU $8000-$9FFF: 8 KB switchable PRG ROM bank</li>
<li> CPU $A000-$BFFF: 8 KB switchable PRG ROM bank</li>
<li> CPU $C000-$DFFF: 8 KB switchable PRG ROM bank</li>
<li> CPU $E000-$FFFF: 8 KB PRG ROM bank, fixed to the last bank</li>
<li> PPU $0000-$03FF: 1 KB switchable CHR bank</li>
<li> PPU $0400-$07FF: 1 KB switchable CHR bank</li>
<li> PPU $0800-$0BFF: 1 KB switchable CHR bank</li>
<li> PPU $0C00-$0FFF: 1 KB switchable CHR bank</li>
<li> PPU $1000-$13FF: 1 KB switchable CHR bank</li>
<li> PPU $1400-$17FF: 1 KB switchable CHR bank</li>
<li> PPU $1800-$1BFF: 1 KB switchable CHR bank</li>
<li> PPU $1C00-$1FFF: 1 KB switchable CHR bank</li>
<li> PPU $2000-$23FF: 1 KB switchable CHR bank (Namco 129/163 only)</li>
<li> PPU $2400-$27FF: 1 KB switchable CHR bank (Namco 129/163 only)</li>
<li> PPU $2800-$2BFF: 1 KB switchable CHR bank (Namco 129/163 only)</li>
<li> PPU $2C00-$2FFF: 1 KB switchable CHR bank (Namco 129/163 only)</li></ul>
<p>The Namco 129 and 163 have the unusual ability to select the internal 2 KB nametable RAM as a CHR bank page, allowing it to be used as CHR RAM in combination with the existing CHR ROM.
</p>
<h2><span class="mw-headline" id="Registers">Registers</span></h2>
<p>The 163 has 19 registers within $4800-$5FFF and $8000-$FFFF, while the the 175 and 340 only have 12. Each register occupies a range of $800 bytes, so $4800-$4FFF all refers to one register, $5000-$57FF all refers to another register, and so on.
</p>
<h3><span class="mw-headline" id="Sound_Data_Port_.28.244800-.244FFF.29_r.2Fw_.28Namco_129.2C163_only.29">Sound Data Port ($4800-$4FFF) r/w (Namco 129,163 only)</span></h3>
<p>See <a href="Namco_163_audio.xhtml" title="Namco 163 audio">Namco 163 audio</a>.
</p>
<h3><span class="mw-headline" id="IRQ_Counter_.28low.29_.28.245000-.2457FF.29_r.2Fw_.28Namco_129.2C163_only.29">IRQ Counter (low) ($5000-$57FF) r/w (Namco 129,163 only)</span></h3>
<pre>7  bit  0
---- ----
IIII IIII
|||| ||||
++++-++++- Low 8 bits of IRQ counter
</pre>
<h3><span class="mw-headline" id="IRQ_Counter_.28high.29_.2F_IRQ_Enable_.28.245800-.245FFF.29_r.2Fw_.28Namco_129.2C163_only.29">IRQ Counter (high) / IRQ Enable ($5800-$5FFF) r/w (Namco 129,163 only)</span></h3>
<pre>7  bit  0
---- ----
EIII IIII
|||| ||||
|+++-++++- High 7 bits of IRQ counter
+--------- IRQ Enable: (0: disabled; 1: enabled)
</pre>
<h3><span class="mw-headline" id="CHR_and_NT_Select_.28.248000-.24DFFF.29_w">CHR and NT Select ($8000-$DFFF) w</span></h3>
<table class="wikitable">
<tr>
<th> Value CPU writes </th>
<th> Behavior
</th></tr>
<tr>
<td> $00-$DF </td>
<td> Always selects 1KB page of CHR-ROM
</td></tr>
<tr>
<td> $E0-$FF </td>
<td> If enabled by bit in $E800 and using a N163 or N129, use the NES's internal nametables (even values for A, odd values for B)
</td></tr></table>
<table class="wikitable">
<tr>
<th> Write to CPU address </th>
<th> 1KB CHR bank affected </th>
<th> Values ≥ $E0 denote NES NTRAM if
</th></tr>
<tr>
<td> $8000-$87FF </td>
<td> $0000-$03FF </td>
<td> $E800.6 = 0
</td></tr>
<tr>
<td> $8800-$8FFF </td>
<td> $0400-$07FF </td>
<td> $E800.6 = 0
</td></tr>
<tr>
<td> $9000-$97FF </td>
<td> $0800-$0BFF </td>
<td> $E800.6 = 0
</td></tr>
<tr>
<td> $9800-$9FFF </td>
<td> $0C00-$0FFF </td>
<td> $E800.6 = 0
</td></tr>
<tr>
<td> $A000-$A7FF </td>
<td> $1000-$13FF </td>
<td> $E800.7 = 0
</td></tr>
<tr>
<td> $A800-$AFFF </td>
<td> $1400-$17FF </td>
<td> $E800.7 = 0
</td></tr>
<tr>
<td> $B000-$B7FF </td>
<td> $1800-$1BFF </td>
<td> $E800.7 = 0
</td></tr>
<tr>
<td> $B800-$BFFF </td>
<td> $1C00-$1FFF </td>
<td> $E800.7 = 0
</td></tr>
<tr>
<td> $C000-$C7FF </td>
<td> $2000-$23FF </td>
<td> always
</td></tr>
<tr>
<td> $C800-$CFFF </td>
<td> $2400-$27FF </td>
<td> always
</td></tr>
<tr>
<td> $D000-$D7FF </td>
<td> $2800-$2BFF </td>
<td> always
</td></tr>
<tr>
<td> $D800-$DFFF </td>
<td> $2C00-$2FFF </td>
<td> always
</td></tr></table>
<p><b>Note:</b> The Namco 175 and 340 do not support using nametable RAM as CHR-RAM, and the nametable selection registers have no effect. 
</p><p>It is believed, but untested, that a game could add a normal SRAM and use it in lieu of the nametable RAM; if so, a game would be able to get 4-screen mirroring and many more pages of CHR-RAM.
</p>
<h3><span class="mw-headline" id="External_PRG_RAM_enable_.28.24C000-.24C7FF.29_w_.28Namco_175_only.29">External PRG RAM enable ($C000-$C7FF) w (Namco 175 only)</span></h3>
<pre>7  bit  0
---- ----
.... ...E
        |
        +- 1: Enable PRG RAM
</pre>
<h3><span class="mw-headline" id="PRG_Select_1_.28.24E000-.24E7FF.29_w">PRG Select 1 ($E000-$E7FF) w</span></h3>
<pre>7  bit  0
---- ----
MMPP PPPP
|||| ||||
||++-++++- Select 8KB page of PRG-ROM at $8000
|+-------- Namco 129, 163 only: Disable sound if set
++-------- Namco 340 only: Select mirroring
             0: One-screen A
             1: Vertical
             2: Horizontal
             3: One-screen B
</pre>
<h3><span class="mw-headline" id="PRG_Select_2_.2F_CHR-RAM_Enable_.28.24E800-.24EFFF.29_w">PRG Select 2 / CHR-RAM Enable ($E800-$EFFF) w</span></h3>
<pre>7  bit  0
---- ----
HLPP PPPP
|||| ||||
||++-++++- Select 8KB page of PRG-ROM at $A000
|+-------- Disable CHR-RAM at $0000-$0FFF (Namco 129, 163 only)
|            0: Pages $E0-$FF use NT RAM as CHR-RAM
|            1: Pages $E0-$FF are the last $20 banks of CHR-ROM
+--------- Disable CHR-RAM at $1000-$1FFF (Namco 129, 163 only)
             0: Pages $E0-$FF use NT RAM as CHR-RAM
             1: Pages $E0-$FF are the last $20 banks of CHR-ROM
</pre>
<h3><span class="mw-headline" id="PRG_Select_3_.28.24F000-.24F7FF.29_w">PRG Select 3 ($F000-$F7FF) w</span></h3>
<pre>7  bit  0
---- ----
..PP PPPP
  || ||||
  ++-++++- Select 8KB page of PRG-ROM at $C000
</pre>
<h3><span class="mw-headline" id="Write_Protect_for_External_RAM_AND_Sound_Address_Port_.28.24F800-.24FFFF.29_w_.28Namco_129.2C_163_only.29">Write Protect for External RAM AND Sound Address Port ($F800-$FFFF) w (Namco 129, 163 only)</span></h3>
<pre>7  bit  0
---- ----
KKKK DCBA
|||| ||||
|||| |||+- 1: Write-protect 2kB window of external RAM from $6000-$67FF (0: write enable)
|||| ||+-- 1: Write-protect 2kB window of external RAM from $6800-$6FFF (0: write enable)
|||| |+--- 1: Write-protect 2kB window of external RAM from $7000-$77FF (0: write enable)
|||| +---- 1: Write-protect 2kB window of external RAM from $7800-$7FFF (0: write enable)
++++------ Additionally the upper nybble must be equal to b0100 to enable writes
</pre>
<p>Any value outside of the range $40-$4E will cause all PRG RAM to be read-only.
</p><p>Also see <a href="Namco_163_audio.xhtml" title="Namco 163 audio">Namco 163 audio</a>.
</p>
<h2><span class="mw-headline" id="IRQ_Operation">IRQ Operation</span></h2>
<p>The IRQ is a 15-bit CPU cycle up-counter. $5000 and $5800 provide <i>direct</i> access to the counter itself (i.e., this isn't a reload value). Games can read and write to these registers in realtime.
</p><p>The IRQ counter increments on each CPU cycle. Upon reaching $7FFF, an IRQ is fired, and it stops counting. Writing to $5000 or $5800 will acknowledge any pending IRQs.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a class="external text" href="http://nesdev.com/namco106.txt" rel="nofollow">Namcot 106</a> by goroh, fix by ZW4 and nori, english translation by nori.</li>
<li><a class="external text" href="http://nesdev.com/mappers.zip" rel="nofollow">Comprehensive NES Mapper Document</a> by \Firebug\, information about mapper's initial state is inaccurate.</li></ul>
<p>All of the below are in Japanese:
</p>
<ul><li><a class="external text" href="http://nesdev.com/namco.txt" rel="nofollow">Namco mapper</a> by goroh</li>
<li><a class="external text" href="http://forums.nesdev.com/viewtopic.php?p=77795#77795" rel="nofollow">Naruko's post to the forum</a></li>
<li><a class="external text" href="http://unagi.sourceforge.jp/cgi-bin/hiki/hiki.cgi?163_namco" rel="nofollow">Wiki on same</a></li>
<li><a class="external text" href="http://d.hatena.ne.jp/na6ko/20110501/1304181038" rel="nofollow">Naruko's blog's post on mirroring on the 340</a></li>
<li><a class="external text" href="http://d.hatena.ne.jp/na6ko/20110430/1304099059" rel="nofollow">Naruko's blog's post on the write protect register at $F800</a></li></ul>

<!-- 
NewPP limit report
CPU time usage: 0.171 seconds
Real time usage: 0.175 seconds
Preprocessor visited node count: 364/1000000
Preprocessor generated node count: 1095/1000000
Post‐expand include size: 3271/2097152 bytes
Template argument size: 492/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key nesdev_wiki-mw1_:pcache:idhash:633-1!*!0!!en!*!* and timestamp 20160208222536 and revision id 11318
 -->
<p class="categories">Categories: <a href="Category_Mappers_using__4020__5FFF.xhtml">Mappers using $4020-$5FFF</a>, <a href="Category_Mappers_with_ROM_nametables.xhtml">Mappers with ROM nametables</a>, <a href="Category_Mappers_with_cycle_IRQs.xhtml">Mappers with cycle IRQs</a>, <a href="Category_Mappers_with_CHR_ROM_and_CHR_RAM.xhtml">Mappers with CHR ROM and CHR RAM</a>, <a href="Category_In_NesCartDB.xhtml">In NesCartDB</a>, <a href="Category_ASIC_mappers.xhtml">ASIC mappers</a></p></div></body></html>